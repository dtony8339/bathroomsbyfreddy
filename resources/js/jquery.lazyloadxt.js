/*! Lazy Load XT v1.1.0 2016-01-12
 * http://ressio.github.io/lazy-load-xt
 * (C) 2016 RESS.io
 * Licensed under MIT */
!function(e,t,o,n){var a="lazyLoadXT",i="lazied",r="load error",l="lazy-hidden",s=o.documentElement||o.body,c={autoInit:!0,selector:"img[data-src]",blankImage:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",throttle:99,forceLoad:t.onscroll===n||!!t.operamini||!s.getBoundingClientRect,loadEvent:"pageshow",updateEvent:"load orientationchange resize scroll touchmove focus",forceEvent:"lazyloadall",oninit:{removeClass:"lazy"},onshow:{addClass:l},onload:{removeClass:l,addClass:"lazy-loaded"},onerror:{removeClass:l},checkDuplicates:!0},d={srcAttr:"data-src",edgeX:0,edgeY:0,visibleOnly:!0},f=e(t),u=e.isFunction,A=e.extend,g=e.data||function(t,o){return e(t).data(o)},h=[],v=0,m=0;function p(e,t){return e[t]===n?c[t]:e[t]}function y(){var e=t.pageYOffset;return e===n?s.scrollTop:e}function C(e,t){var o=c["on"+e];o&&(u(o)?o.call(t[0]):(o.addClass&&t.addClass(o.addClass),o.removeClass&&t.removeClass(o.removeClass))),t.trigger("lazy"+e,[t]),b()}function w(t){C(t.type,e(this).off(r,w))}function z(o){if(h.length){o=o||c.forceLoad,v=1/0;var n,l,d=y(),f=t.innerHeight||s.clientHeight,A=t.innerWidth||s.clientWidth;for(n=0,l=h.length;n<l;n++){var m,p=h[n],z=p[0],E=p[a],b=!1,I=o||g(z,i)<0;if(e.contains(s,z)){if(o||!E.visibleOnly||z.offsetWidth||z.offsetHeight){if(!I){var T=z.getBoundingClientRect(),B=E.edgeX,L=E.edgeY;I=(m=T.top+d-L-f)<=d&&T.bottom>-L&&T.left<=A+B&&T.right>-B}if(I){p.on(r,w),C("show",p);var X=E.srcAttr,k=u(X)?X(p):z.getAttribute(X);k&&(z.src=k),b=!0}else m<v&&(v=m)}}else b=!0;b&&(g(z,i,0),h.splice(n--,1),l--)}l||C("complete",e(s))}}function E(){m>1?(m=1,z(),setTimeout(E,c.throttle)):m=0}function b(e){h.length&&(e&&"scroll"===e.type&&e.currentTarget===t&&v>=y()||(m||setTimeout(E,0),m=2))}function I(){f.lazyLoadXT()}function T(){z(!0)}e[a]=A(c,d,e[a]),e.fn[a]=function(o){var n,r=p(o=o||{},"blankImage"),l=p(o,"checkDuplicates"),s=p(o,"scrollContainer"),f=p(o,"show"),u={};e(s).on("scroll",b);for(n in d)u[n]=p(o,n);return this.each(function(n,s){if(s===t)e(c.selector).lazyLoadXT(o);else{var d=l&&g(s,i),v=e(s).data(i,f?-1:1);if(d)return void b();r&&"IMG"===s.tagName&&!s.src&&(s.src=r),v[a]=A({},u),C("init",v),h.push(v),b()}})},e(o).ready(function(){C("start",f),f.on(c.updateEvent,b).on(c.forceEvent,T),e(o).on(c.updateEvent,b),c.autoInit&&(f.on(c.loadEvent,I),I())})}(window.jQuery||window.Zepto||window.$,window,document);